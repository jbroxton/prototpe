@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* CodeMirror dark overrides to ensure a true black floating editor */
.cm-editor {
  background-color: #0b0b0b !important;
  color: #e5e7eb !important;
  height: 100% !important;      /* fill container */
  min-height: 0 !important;
  font-family: Arial, Helvetica, sans-serif !important;
}
.cm-scroller {
  background-color: #0b0b0b !important;
  height: 100% !important;
  overflow: auto !important;          /* ensure wheel scrolls the editor */
  overflow-x: hidden !important;      /* prevent horizontal scroll */
  overscroll-behavior: contain;       /* prevent parent from hijacking wheel */
  -webkit-overflow-scrolling: touch;  /* smooth on trackpads */
  box-sizing: border-box;
}
.cm-content {
  padding: 16px 20px !important;      /* comfortable inner padding for PRD */
  font-family: Arial, Helvetica, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.5 !important;
  box-sizing: border-box;
  max-width: 100%;
}
/* Placeholder text style */
.cm-placeholder { color: #6b7280 !important; opacity: 0.7; font-style: italic; }
.cm-gutters {
  background-color: #0b0b0b !important;
  color: #9ca3af !important;
  border: none !important;
}
.cm-activeLine { background-color: transparent !important; }
.cm-activeLineGutter { background-color: transparent !important; }
.cm-selectionBackground, .cm-content ::selection { background-color: rgba(99,102,241,0.28) !important; }
.cm-lineNumbers .cm-gutterElement { color: #6b7280 !important; }

/* Editor rounded container styles */
.editor-shell, .panel-shell { height: 100%; padding: 12px; }
.editor-card, .panel-card {
  height: 100%;
  display: flex;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,0.10);
  background: #0b0b0b; /* match editor background */
  overflow: hidden;
}
.editor-card .cm-editor, .panel-card .cm-editor { background-color: transparent !important; border-radius: 12px; }
.editor-card .cm-gutters, .panel-card .cm-gutters { background-color: transparent !important; }
.editor-card .cm-scroller, .panel-card .cm-scroller { height: 100% !important; }

/* Pretty block styling for Test PRD */
.cm-cuj { background: linear-gradient(90deg, rgba(99,102,241,0.12), transparent); border-left: 3px solid rgba(99,102,241,0.55); border-radius: 6px; }
.cm-checkblock { background: linear-gradient(90deg, rgba(16,185,129,0.10), transparent); border-left: 3px solid rgba(16,185,129,0.55); border-radius: 6px; }
.cm-milestone { background: linear-gradient(90deg, rgba(250,204,21,0.12), transparent); border-left: 3px solid rgba(250,204,21,0.55); border-radius: 6px; }

/* Requirement block widget */
.cm-content .req-table {
  width: 100%;
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 12px;
  background: rgba(255,255,255,0.02);
  margin: 12px 0;
  overflow: hidden;
  display: block;
}
.req-tr { display: grid; grid-template-columns: 64px 1fr 1fr 160px; align-items: stretch; }
.req-tr-head { background: rgba(255,255,255,0.03); }
.req-th, .req-td { padding: 12px 12px; border-bottom: 1px solid rgba(255,255,255,0.06); }
.req-th { white-space: nowrap; }
.req-tr:not(.req-tr-head):hover { background: rgba(255,255,255,0.02); }
.req-tr:last-child .req-td { border-bottom: none; }
.req-td.center { display: grid; place-items: center; }
.req-td.right { display: flex; justify-content: flex-end; }
.req-th.right { display: flex; justify-content: space-between; align-items: center; gap: 8px; position: relative; }
.req-addbar { padding: 10px 12px; display: flex; justify-content: flex-start; }

/* Minimal overflow menu */
.req-kebab {
  width: 28px; height: 28px;
  border-radius: 6px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(255,255,255,0.04);
  color: #e5e7eb;
}
.req-menu {
  position: absolute; right: 8px; top: 36px; z-index: 10;
  min-width: 160px;
  padding: 6px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.10);
  background: rgba(15,15,17,0.95);
  box-shadow: 0 8px 20px rgba(0,0,0,0.35);
}
.req-menu-item {
  width: 100%; text-align: left;
  padding: 6px 8px; border-radius: 8px;
  border: 1px solid transparent; background: transparent; color: #e5e7eb;
}
.req-menu-item:hover { background: rgba(255,255,255,0.06); }
.req-menu-item.danger { border-color: rgba(239,68,68,0.35); color: #fecaca; }

.req-block {
  display: grid;
  grid-template-columns: 20px 1fr auto auto auto;
  align-items: center;
  gap: 8px;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,0.1);
  background: linear-gradient(180deg, rgba(24,24,27,0.9), rgba(17,17,19,0.9));
  margin: 4px 0;
}
.req-left { display: grid; place-items: center; }
.req-title {
  outline: none;
  min-height: 20px;
}
.req-td[contenteditable="true"] { white-space: pre-wrap; word-break: break-word; }
.req-chip {
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.14);
  background: rgba(255,255,255,0.04);
}
.req-apply {
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 8px;
  border: 1px solid rgba(99,102,241,0.35);
  background: rgba(99,102,241,0.12);
  color: #e5e7eb;
}

/* Modern, lowâ€‘profile horizontal scrollbar for roadmap */
.x-scroll {
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,0.28) transparent; /* Firefox */
}
.x-scroll::-webkit-scrollbar {
  height: 8px; /* horizontal bar height */
  background: transparent; /* no track */
}
.x-scroll::-webkit-scrollbar-track {
  background: transparent;
}
.x-scroll::-webkit-scrollbar-thumb {
  background-color: rgba(255,255,255,0.28);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: padding-box; /* gives a floating pill look */
}
.x-scroll:hover::-webkit-scrollbar-thumb {
  background-color: rgba(255,255,255,0.42);
}
.req-delete {
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 8px;
  border: 1px solid rgba(239,68,68,0.35);
  background: rgba(239,68,68,0.10);
  color: #fecaca;
}

/* Markdown heading styling in CodeMirror: bold, no underline */
.cm-headingline, .cm-header, .cm-heading, .tok-heading, .cm-header-1, .cm-header-2, .cm-header-3 {
  font-weight: 700 !important;
  text-decoration: none !important;
  border-bottom: none !important;
}
.cm-h1, .cm-h2, .cm-h3, .cm-header-1, .cm-header-2, .cm-header-3 {
  font-size: inherit !important;
}
.cm-link, .cm-underline { text-decoration: none !important; border-bottom: none !important; }

/* Autocomplete tooltip styling */
.cm-tooltip { z-index: 70 !important; }
.cm-tooltip-autocomplete { background: #0e0e10 !important; border: 1px solid rgba(255,255,255,0.10) !important; color: #e5e7eb; border-radius: 12px; overflow: hidden; padding: 6px; }
.cm-tooltip-autocomplete ul { max-height: 320px; }
.cm-tooltip-autocomplete ul li { padding: 10px 12px; border-radius: 8px; margin: 2px 0; }
.cm-tooltip-autocomplete ul li[aria-selected="true"] { background: #1f1f24; }
.cm-tooltip-autocomplete ul li:hover:not([aria-selected="true"]) { background: #18181c; }
.cm-tooltip-autocomplete ul li[aria-selected="true"] .cm-completionLabel,
.cm-tooltip-autocomplete ul li[aria-selected="true"] .cm-completionDetail,
.cm-tooltip-autocomplete .cm-completionMatchedText {
  background: transparent !important;
  text-decoration: none !important;
}

.cm-completionLabel { font-family: Arial, Helvetica, sans-serif; font-size: 13.5px; color: #e5e7eb; }
.cm-completionDetail { opacity: .7; font-size: 12.5px; color: #a3a3a3; }
.cm-demo-info { padding: 12px; background: #121216; border: 1px solid rgba(255,255,255,0.10); border-radius: 10px; color: #e5e7eb; line-height: 1.6; }
/* Comment-like helper lines used as filler prompts */
.cm-line.cm-commentline { color: #9ca3af !important; opacity: .8; font-style: italic; }
/* Ensure Radix popover content renders above editor */
[data-radix-popper-content-wrapper] { z-index: 2147483647 !important; position: fixed !important; inset: auto auto auto auto; }
